document.querySelector(".preloader")&&window.addEventListener("load",(e=>{setTimeout((()=>{enableScroll(),document.body.classList.add("loaded")}),100)}));const header=document.querySelector(".header"),menuMobileBtn=document.querySelector(".menu-mobile__btn"),mobMenu=document.querySelector(".menu-mobile"),iconMenu=document.querySelector(".icon-menu"),modal=document.querySelectorAll(".modal"),overlay=document.querySelector(".overlay"),modOpenBtn=document.querySelectorAll(".mod-open-btn"),modCloseBtn=document.querySelectorAll(".mod-close-btn"),successModal=document.querySelector(".success-modal"),errorModal=document.querySelector(".error-modal"),customSelect=document.querySelectorAll(".select-custom");let tablet=991.98,mob=767.98,animSpd=400;function sprite(e){return'<svg><use xlink:href="img/icons/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function setVh(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function enableScroll(){document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll")}function disableScroll(){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}function smoothDrop(e,t,r){if(t.style.overflow="hidden",t.style.transition=`height ${r}ms ease`,t.style["-webkit-transition"]=`height ${r}ms ease`,e.classList.contains("active")){e.classList.remove("open");let o=t.clientHeight+"px";t.style.height=o,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.display="none",t.style.height=null,e.classList.remove("active")}),r)}),0)}else{e.classList.add("open"),t.style.display="block";let o=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=o,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),r)}),0)}}function tabSwitch(e,t){e.forEach(((r,o)=>{r.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),t.forEach((e=>{e.classList.remove("active")})),r.classList.add("active"),t[o].classList.add("active"),r.style.opacity="0",t[o].style.opacity="0",setTimeout((()=>{r.style.opacity="1",t[o].style.opacity="1"}),0)}))}))}setVh();const switchBlock=document.querySelectorAll(".switch-block");switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-nav]"),e.querySelectorAll("[data-block]"))}));const fancybox=Fancybox.bind("[data-fancybox]",{Hash:!1,Toolbar:{display:["close"]},Thumbs:!1});function openModal(e){let t=document.querySelector(".modal.open");t||mobMenu.classList.contains("open")||disableScroll(),t&&t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.classList.remove("open"),setTimeout((()=>{mobMenu.classList.contains("open")||enableScroll()}),animSpd)}function openSelectCustom(e){e.classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".select-custom__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e)}))})),document.addEventListener("click",(function t(r){e.contains(r.target)||(closeSelectCustom(e),document.removeEventListener("click",t))}))}function setActiveOption(e){if(e.querySelector(".select-custom__selected").classList.add("checked"),e.querySelector(".item-radio")){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".select-custom__selected span").innerHTML=t}}function closeSelectCustom(e){e.classList.remove("open"),e.setAttribute("aria-expanded",!1)}function setSuccessTxt(e=!1,t=!1){successModal.querySelector("h3").textContent=e||"Заявка успешно отправлена",successModal.querySelector(".main-btn").textContent=t||"Закрыть"}function setErrorTxt(e=!1,t=!1){errorModal.querySelector("h3").textContent=e||"Что-то пошло не так",errorModal.querySelector(".main-btn").textContent=t||"Закрыть"}function openSuccessMod(e=!1,t=!1){setSuccessTxt(!1,!1),openModal(successModal)}function openErrorMod(e=!1,t=!1){setErrorTxt(!1,!1),openModal(errorModal)}function formSuccess(e,t=!1,r=!1){e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML=""),openSuccessMod(!1,!1)}function searchFormSuccess(e){e.querySelector("input").value="",e.querySelector(".search-form__reset").classList.remove("show")}modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{e.querySelector(".modal__content").contains(t.target)&&!e.querySelector(".btn-close").contains(t.target)||closeModal(e)}))})),modOpenBtn&&modOpenBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");openModal(document.getElementById(r))}))})),modCloseBtn&&modCloseBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");closeModal(document.getElementById(r))}))}));const searchToggle=document.querySelector(".search-toggle"),searchClose=document.querySelector(".search__close");searchToggle.addEventListener("click",(()=>{document.querySelector(".header__search").classList.add("show"),disableScroll(),overlay.classList.add("show"),setTimeout((()=>{document.querySelector(".header__search").querySelector(".item-form input").focus()}),400)})),searchClose.addEventListener("click",(()=>{document.querySelector(".header__search").classList.remove("show"),overlay.classList.remove("show"),setTimeout((()=>{enableScroll()}),400)})),overlay.addEventListener("click",(()=>{searchClose.click()}));const searchForm=document.querySelectorAll(".search-form");function showResetBtn(e){e.querySelector("input").value.length>0?e.querySelector(".search-form__reset").classList.add("show"):e.querySelector(".search-form__reset").classList.remove("show")}searchForm&&searchForm.forEach((e=>{showResetBtn(e),e.querySelector(".item-form input").addEventListener("input",(()=>showResetBtn(e))),e.addEventListener("reset",(()=>{e.querySelector(".item-form input").setAttribute("value",""),showResetBtn(e)})),e.parentNode.querySelector(".searh-p__results-empty-btn")&&e.parentNode.querySelector(".searh-p__results-empty-btn").addEventListener("click",(()=>{e.querySelector(".item-form input").setAttribute("value",""),showResetBtn(e),setTimeout((()=>{e.querySelector(".item-form input").focus()}),0)}))}));const itemFormPass=document.querySelectorAll(".item-form--password");itemFormPass&&itemFormPass.forEach((e=>{e.querySelector(".item-form__eye").addEventListener("click",(()=>{e.classList.toggle("show-password"),e.classList.contains("show-password")?e.querySelector("input").type="text":e.querySelector("input").type="password"}))}));const inp=document.querySelectorAll("input[type=tel]");function addFile(e,t){for(let r=0;r<e.length;r++){let o=e[r];if(o.size>10485760)return t.querySelector("input").value="",t.classList.add("error"),t.parentNode.classList.contains("edu-profile")||t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector(".item-form__error").textContent="Файл должен быть менее 10 МБ");if(!fileTypes.includes(o.type))return t.querySelector("input").value="",t.classList.add("error"),t.parentNode.classList.contains("edu-profile")||t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector(".item-form__error").textContent="Разрешённые форматы: png,jpg,jpeg,gif,bmp,pdf,txt,rtf,doc,docx,xls,xlsx,ppt,pptx,odt,ods,odp");if(t.classList.remove("error"),t.querySelector(".item-form__error").textContent="",t.parentNode.classList.contains("edu-profile"))t.parentNode.submit();else{let e=new FileReader;e.readAsDataURL(o),e.onload=()=>{t.querySelector(".file-form__items").insertAdjacentHTML("afterbegin",`<div class="file-form__item">\n            <div class="file-form__name">${o.name}</div>\n            <div class="file-form__del">${sprite("close")}</div>\n           </div>\n          `)},e.onerror=()=>{console.log(e.error)}}}}inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));let dragEl,fileTypes=["image/png","image/jpeg","image/gif","image/bmp","text/plain","application/rtf","application/vnd.ms-powerpoint","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.oasis.opendocument.spreadsheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.text"];function showLbl(e){overlay.classList.add("show"),document.querySelectorAll(".js-lbl").forEach((e=>e.classList.remove("show"))),e.classList.add("show"),lblTimeout&&clearTimeout(lblTimeout),lblTimeout=setTimeout((function(){overlay.classList.remove("show"),e.classList.remove("show")}),3500)}function favOnClick(){const e=document.querySelectorAll(".js-fav");e&&e.forEach((e=>{e.addEventListener("click",(()=>{e.classList.contains("active")?(e.classList.remove("active"),showLbl(document.querySelector(".js-remove-fav"))):(e.classList.add("active"),showLbl(document.querySelector(".js-add-fav")))}))}))}function disabledMinBtn(e,t){t<=1?e.querySelector(".js-minus").classList.add("disabled"):e.querySelector(".js-minus").classList.remove("disabled")}function setQuantity(){const e=document.querySelectorAll(".quantity");e&&e.forEach((e=>{const t=e.querySelector(".quantity__count input");disabledMinBtn(e,t.value),e.querySelector(".js-minus").addEventListener("click",(()=>{t.value>1?(t.value--,clearTimeout(lblTimeout),showLbl(document.querySelector(".js-add-cart"))):(e.parentNode.classList.remove("in-card"),clearTimeout(lblTimeout),showLbl(document.querySelector(".js-remove-cart"))),disabledMinBtn(e,t.value),addToCart()})),e.querySelector(".js-plus").addEventListener("click",(()=>{t.value++,clearTimeout(lblTimeout),showLbl(document.querySelector(".js-add-cart")),disabledMinBtn(e,t.value),addToCart()}))}))}function initSliders(){filter.querySelectorAll(".range-filter").forEach((e=>{let t=e.querySelector(".range-filter__start"),r=e.querySelector(".range-filter__end"),o=e.querySelector(".range-filter__slider"),s=+e.getAttribute("data-start"),l=+e.getAttribute("data-end"),i=+e.getAttribute("data-min"),n=+e.getAttribute("data-max");noUiSlider.create(o,{start:[s,l],connect:!0,range:{min:i,max:n}}),t.addEventListener("focus",(()=>{t.value=t.value.replaceAll(" ",""),t.setAttribute("type","number")})),r.addEventListener("focus",(()=>{r.value=r.value.replaceAll(" ",""),r.setAttribute("type","number")})),t.addEventListener("change",(()=>{o.noUiSlider.set([t.value,null])})),r.addEventListener("change",(()=>{o.noUiSlider.set([null,r.value])}));let c=[t,r];o.noUiSlider.on("update",(function(e,o){t.setAttribute("type","text"),r.setAttribute("type","text"),c[o].value=String(parseInt(e[o])).replace(/\B(?=(\d{3})+(?!\d))/g," ").trim()})),o.noUiSlider.on("change",(function(e,t){}))}))}document.querySelector(".file-form")&&document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.parentNode.classList.contains("edu-profile")||e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(t.target.files,e)})),e.addEventListener("click",(t=>{e.parentNode.classList.contains("edu-profile")||e.querySelectorAll(".file-form__del").forEach(((r,o)=>{if(r.contains(t.target)){const t=new DataTransfer,s=e.querySelector("input"),{files:l}=s;for(let e=0;e<l.length;e++){let r=l[e];e!==o&&t.items.add(r)}s.files=t.files,setTimeout((()=>{r.parentNode.remove()}),0)}}))})),dragEl=e.parentNode.classList.contains("edu-profile")?e.querySelector(".edu-profile__add"):e,dragEl.addEventListener("dragenter",(e=>{e.preventDefault()})),dragEl.addEventListener("dragover",(e=>{e.preventDefault()})),dragEl.addEventListener("dragleave",(e=>{e.preventDefault()})),dragEl.addEventListener("drop",(function(t){t.preventDefault();const r=new DataTransfer;r.items.add(t.dataTransfer.files[0]);let o=Array.from(r.files);e.querySelector("input").files=r.files,e.parentNode.classList.contains("edu-profile")||e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(o,e)}))})),setQuantity();const filter=document.querySelector(".cat-top__filter");function allCheckBtn(e,t){e.addEventListener("change",(()=>{t.forEach((t=>{e.checked?(t.checked=!0,t.setAttribute("checked",!0)):(t.checked=!1,t.removeAttribute("checked"))}))})),t.forEach((r=>{r.addEventListener("change",(()=>{Array.from(t).every((e=>e.checked))?(e.checked=!0,e.setAttribute("checked",!0)):(e.checked=!1,e.removeAttribute("checked"))}))}))}filter&&initSliders();const readMore=document.querySelectorAll(".read-more");if(readMore){function showMoreBtn(){readMore.forEach((e=>{e.classList.remove("active"),e.classList.add("more-hidden");let t=e.querySelector(".read-more__content").clientHeight;e.classList.remove("more-hidden");let r=e.querySelector(".read-more__content").clientHeight;e.classList.add("more-hidden"),r>t?e.classList.add("btn-show"):e.classList.remove("btn-show")}))}showMoreBtn(),window.addEventListener("resize",showMoreBtn),readMore.forEach((e=>{let t=e.querySelector(".read-more__btn").getAttribute("data-open"),r=e.querySelector(".read-more__btn").getAttribute("data-close");e.querySelector(".read-more__btn").addEventListener("click",(()=>{if(e.classList.contains("active")){e.classList.remove("active");let r=e.querySelector(".read-more__content").clientHeight+"px";e.classList.add("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden"),e.querySelector(".read-more__content").style.height=r,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=t,setTimeout((()=>{e.classList.add("more-hidden"),e.querySelector(".read-more__content").style.height=null}),500)}),0)}else{e.classList.add("active");let t=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.querySelector(".read-more__content").style.height=t,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=r,setTimeout((()=>{e.querySelector(".read-more__content").style.height=null}),500)}),0)}}))}))}let initSmiSwiper,smiSwiper,statItem=document.querySelectorAll(".animate-numb");statItem.length>0&&statItem.forEach((e=>{new IntersectionObserver((function(t,r){t.forEach((t=>{if(t.isIntersecting){let t=e.textContent,o=e.getAttribute("data-numb");$(e).prop("number",o).animateNumber({number:t,numberStep:function(e,t){var r=e.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g," ");$(t.elem).text(r)}},{easing:"swing",duration:1500}),r.unobserve(e)}}))})).observe(e)}));const mainSmi=document.querySelector(".main-smi");function mainSmiSwiper(){mainSmi&&(window.innerWidth<tablet&&!initSmiSwiper?(initSmiSwiper=!0,smiSwiper=new Swiper(mainSmi.querySelector(".swiper"),{slidesPerView:5,spaceBetween:20,observer:!0,observeParents:!0,speed:800})):window.innerWidth>tablet&&initSmiSwiper&&(initSmiSwiper=!1,smiSwiper.destroy(!0,!0)))}mainSmiSwiper(),window.addEventListener("resize",mainSmiSwiper);const mainCatSwiper=document.querySelectorAll(".main-cat__swiper");mainCatSwiper.length>0&&mainCatSwiper.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:4,spaceBetween:20,observer:!0,observeParents:!0,scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},breakpoints:{},speed:800})}));let lastScroll=scrollPos();window.addEventListener("scroll",(()=>{scrollPos()>1?(header.classList.add("scroll"),header.classList.contains("header--main")&&header.classList.remove("header--light"),scrollPos()>lastScroll&&scrollPos()>150&&!header.classList.contains("unshow")?header.classList.add("unshow"):scrollPos()<lastScroll&&header.classList.contains("unshow")&&header.classList.remove("unshow")):(header.classList.remove("scroll"),header.classList.remove("unshow"),header.classList.contains("header--main")&&header.classList.add("header--light")),lastScroll=scrollPos()}));const menuItem=document.querySelectorAll(".menu__item");menuItem.length>0&&menuItem.forEach((e=>{e.addEventListener("mouseenter",(()=>{e.classList.contains("has-subnav")&&(menuItem.forEach((e=>e.classList.remove("hover"))),e.classList.add("hover"),header.classList.add("hover"),header.classList.contains("header--main")&&header.classList.remove("header--light"))})),e.addEventListener("mouseleave",(()=>{e.classList.remove("hover"),header.classList.remove("hover"),!header.classList.contains("scroll")&&header.classList.contains("header--main")&&header.classList.add("header--light")}))}));const aboutDirLbl=document.querySelectorAll(".about-dir__lbl"),aboutDirTxt=document.querySelector(".about-dir__txt");function aboutTxtPos(e){let t=e.getBoundingClientRect().top,r=e.getBoundingClientRect().left;aboutDirTxt.style.left=r-aboutDirTxt.clientWidth/2<0?10:r-aboutDirTxt.clientWidth/2+e.getBoundingClientRect().width/2+"px",aboutDirTxt.style.top=t+e.getBoundingClientRect().height+10+"px"}function unshowAboutDirTxt(e){e.querySelector(".about-dir__lbl--plus").style.visibility="visible",e.querySelector(".about-dir__lbl--plus").style.opacity=1,e.querySelector(".about-dir__lbl--minus").style.opacity=0,e.querySelector(".about-dir__lbl--minus").style.visibility="hidden",aboutDirTxt.innerHTML="",aboutDirTxt.classList.remove("show")}aboutDirTxt&&aboutDirLbl.length>0&&aboutDirLbl.forEach((e=>{e.addEventListener("mouseenter",(()=>{let t=e.getAttribute("data-info");e.querySelector(".about-dir__lbl--plus").style.visibility="hidden",e.querySelector(".about-dir__lbl--plus").style.opacity=0,e.querySelector(".about-dir__lbl--minus").style.opacity=1,e.querySelector(".about-dir__lbl--minus").style.visibility="visible",aboutDirTxt.innerHTML=`<span>${t}</span>`,aboutDirTxt.classList.add("show"),aboutTxtPos(e)})),e.addEventListener("mouseleave",(()=>unshowAboutDirTxt(e))),window.addEventListener("resize",(()=>unshowAboutDirTxt(e))),window.addEventListener("scroll",(()=>unshowAboutDirTxt(e)))}));const storeSwiper=document.querySelector(".store__swipers");if(storeSwiper){let e=new Swiper(storeSwiper.querySelector(".store__thumbswiper"),{slidesPerView:4,spaceBetween:10,observer:!0,observeParents:!0,speed:800});new Swiper(storeSwiper.querySelector(".store__mainswiper"),{slidesPerView:2,spaceBetween:20,observer:!0,observeParents:!0,thumbs:{swiper:e},speed:800})}